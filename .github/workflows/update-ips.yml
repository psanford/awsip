on:
  workflow_dispatch:
  schedule:
    - cron: '16 7 * * *'
name: update-ips pr
jobs:
  createPullRequest:
    runs-on: ubuntu-latest
    steps:
      - name: Set up Go
        uses: actions/setup-go@v1
        with:
          go-version: 1.18beta1
        id: go

      - name: Checkout
        uses: actions/checkout@v2
        
      - name: Run go-generate
        run: go generate
        
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@dcd5fd746d53dd8de555c0f10bca6c35628be47a
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          commit-message: Update ip ranges
          title: 'Update IP address ranges'
          body: >
            This PR was auto-generated.
          labels: report, automated pr
